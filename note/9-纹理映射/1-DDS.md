# DDS（DirectDraw Surface）

DDS（DirectDraw Surface）是一种纹理文件格式，它被广泛用于游戏和图形应用中。在DirectX 12中，DDS文件格式仍然被支持，并提供了一些新功能。

DDS文件格式的优点包括高效的压缩和快速的加载速度。这使它成为游戏和图形应用中的流行选择。在DirectX 12中，DDS格式还可以通过使用压缩纹理和着色器资源视图来实现更高效的图像处理。

除了标准的MIP贴图和立方体贴图之外，DDS文件格式还支持许多其他类型的贴图，例如体积纹理和阵列贴图。这些功能使得DDS文件格式非常灵活，可以适应各种不同的图形需求。

总的来说，在DirectX 12中，DDS文件格式仍然是一个非常有用的工具，可以帮助开发人员实现更高效、更灵活的图形渲染。

硬解纹理压缩格式。它主要有如下各种纹理格式:

DXT1, DXT3 和 DXT5

## 这种纹理格式为什么高效呢？

DDS（DirectDraw Surface）纹理格式之所以被认为是高效的，主要有以下几个原因：

1. 压缩算法：DDS格式支持多种压缩算法，包括DXT、BC和ATI等，这些算法可以将纹理数据压缩到较小的文件大小，从而减少磁盘空间占用和加载时间。DDS使用的压缩是有损压缩，但是这种压缩损失一般在游戏领域是可以接受的。

2. MIP贴图：DDS格式支持MIP贴图，即在不同的分辨率下预先生成多个版本的纹理。这些MIP贴图可以根据距离、视角等因素进行自动切换，从而提高渲染效率并减少GPU的负载。

3. 支持多种贴图类型：DDS格式支持多种贴图类型，如立方体贴图、体积纹理和阵列贴图等，这些贴图类型可以适用于不同的场景需求，从而提高图形渲染的灵活性。

4. 显存占用：DDS格式中的纹理数据可以直接存储在显存中，而不需要进行额外的转换或解压，从而节省了内存带宽和CPU计算资源。

综上所述，DDS格式的高效性体现在它可以通过压缩、MIP贴图、多种贴图类型和直接存储在显存中等方式来提高图形渲染的效率和性能，并且可以减少对磁盘空间和内存带宽的占用。



## DDS的纹理压缩

DDS（DirectDraw Surface）纹理格式支持多种压缩算法，这些算法可以将纹理数据压缩到较小的文件大小，从而减少磁盘空间占用和加载时间。以下是DDS常用的几种压缩算法：

1. DXT1：DXT1算法使用BC1块压缩纹理数据，可以将RGBA颜色信息压缩为8字节，即4个像素共用一个块。DXT1算法最适合处理颜色较少的纹理，如地形贴图、普通贴图等。它的压缩比是最高的，1:8， 他会将你的纹理数据按8份压缩为1份。同时，DXT1这种纹理格式是不带alpha通道的

2. DXT3和DXT5：DXT3和DXT5算法使用BC2和BC3块分别进行压缩，可以包含透明度信息，并能够更好地保存细节和光滑度等信息。DXT3和DXT5算法适合处理需要具有透明度信息的纹理，如人物模型、植被等。DXT3的压缩比是1:4，这种纹理格式会保存alpha通道信息。DXT5的alpha通道信息也会被保存，它与DXT3的区别在于，DXT5的alpha通道信息值他是以一种线性的值进行保存，纹理效果就是透明和非透明部分的过渡会比较光滑柔和，而不像DXT3那样边缘会很锐利。

3. BC6H和BC7：BC6H和BC7算法是比较新的压缩算法，它们不仅可以提供更高的压缩比，还可以保留更多的细节和光滑度信息。BC6H和BC7算法适合处理高清晰度纹理，如天空盒、反射贴图等。

除了上述的压缩算法外，DDS格式还支持其他一些压缩算法，如ATI1N和ATI2N等。这些算法可以根据不同的需求选择，以达到最优的压缩效果。

总的来说，DDS格式的压缩算法可以通过对纹理数据进行压缩和解压来减少文件大小和加载时间，从而提高渲染效率和性能。



## DDS压缩算法

BC1到BC7是DDS（DirectDraw Surface）纹理格式中支持的常见压缩算法，以下详细介绍它们的特点和使用场景：

1. BC1：BC1也称为DXT1，是一种基本的压缩算法。它将每个4x4像素块压缩为一个8字节的数据块，并使用2位透明度通道来表示该块中的颜色是否透明。BC1算法非常适合处理具有大量颜色的纹理，如地形纹理、简单的环境贴图等。

2. BC2：BC2也称为DXT3，相比于BC1算法，它使用4位透明度通道来保存透明度信息。这样可以更好地保留纹理的细节和光滑度，同时还能够支持半透明效果。BC2算法适用于需要半透明效果的纹理，如人物模型、植被等。

3. BC3：BC3也称为DXT5，是一种性能较好的压缩算法。与BC2算法类似，BC3算法也使用4位透明度通道来保存透明度信息，但是它使用了更高级别的压缩算法，从而可以更好地保留纹理的细节和光滑度。BC3算法适合处理复杂的纹理，如建筑物、武器等。

4. BC4：BC4是一种新型的压缩算法，它主要用于处理灰度纹理。BC4将每个4x4像素块压缩为一个8字节的数据块，并且只使用了一个通道来表示该块中的颜色信息。BC4算法在处理灰度纹理时，可以提供更好的压缩效果和更高的渲染效率。

5. BC5：BC5是一种扩展版的压缩算法，它可以同时处理两个通道的颜色信息。这使得它非常适合处理法线贴图等需要使用多个通道的纹理。BC5算法将每个4x4像素块压缩为一个16字节的数据块，并使用两个通道来表示该块中的颜色信息。

6. BC6H：BC6H是一种高动态范围压缩算法，它可以保留更多的细节和光滑度信息。BC6H算法主要用于处理高动态范围纹理，如天空盒、反射贴图等。

7. BC7：BC7是一种最新的压缩算法，它可以提供更高的压缩比和更好的质量。BC7算法采用了更先进的压缩技术，并支持更多的输入格式和输出格式，从而可以处理各种类型的纹理，如颜色纹理、法线贴图、置换贴图等。

BC1到BC7是DDS纹理格式中重要的压缩算法，它们可以针对不同的纹理需求选择不同的算法，以实现更好的压缩效果和渲染性能。