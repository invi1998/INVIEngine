# 重心坐标

重心坐标（Barycentric Coordinates）是在三角形内部表示一个点的一种方法，它是通过将该点表示为三角形每个顶点的加权平均值的形式来实现的。具体地说，给定三角形ABC和一个位于其内部的点P，其重心坐标(u,v,w)满足以下条件：

1. u + v + w = 1
2. P = uA + vB + wC

其中，(u,v,w)分别为点P相对于三角形ABC中顶点A、B、C的权重，称为重心坐标。

从几何上来看，重心坐标表示了点P到三角形三个顶点的距离之比。例如，如果u=0.5，v=0.3，w=0.2，则表示点P到顶点A的距离是到三角形BC边界上的点的距离的一半，到顶点B的距离是到边界上的点的距离的0.3倍，到顶点C的距离是到边界上的点的距离的0.2倍。

重心坐标的几何解释非常有用，在计算机图形学中被广泛应用。例如，在三角形网格渲染中，可以使用重心坐标插值技术将三角形内部点的颜色、法向量等值插值到三角形表面上。此外，重心坐标还可以用于计算三角形面积、判定点是否位于三角形内部等问题。

重心坐标在图形学中最重要的作用就是做线性差值、



## 通过重心坐标求纹理坐标

在三角形网格渲染中，我们通常需要根据顶点的纹理坐标插值计算三角形内部点的纹理坐标。这个过程可以使用重心坐标来实现。

具体地说，假设三角形ABC的三个顶点分别有对应的纹理坐标TA、TB、TC。给定重心坐标(u,v,w)，我们可以通过以下公式计算点P的纹理坐标TP：

TP = u * TA + v * TB + w * TC

其中，u、v、w是点P相对于三角形ABC的重心坐标。

例如，如果点P的重心坐标为(0.5, 0.3, 0.2)，顶点A、B、C的纹理坐标分别为TA=(0,0)、TB=(1,0)、TC=(0,1)，则点P的纹理坐标TP为：

TP = 0.5 * TA + 0.3 * TB + 0.2 * TC
   = 0.5 * (0,0) + 0.3 * (1,0) + 0.2 * (0,1)
   = (0.3, 0.2)

因此，我们可以通过重心坐标和顶点的纹理坐标计算出三角形内部任意点的纹理坐标，从而实现三角形网格的纹理映射。